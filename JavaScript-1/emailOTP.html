<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email OTP Verification</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript">
        (function () {
            emailjs.init({
                publicKey: "cP0ICS1AqLSy2cl9Q",
            });
        })();
    </script>
</head>

<body>
    <h2>Email OTP Verification</h2>
    <form onsubmit="handleSubmit(event)">
        <label for="email">Enter your email:</label><br>
        <input type="email" id="email" name="email" required><br><br>
        <button type="submit">Verify OTP</button>
    </form>
    <script>

        function generateOTP() {
            const digits = '0123456789';
            let OTP = '';
            for (let i = 0; i < 6; i++) {
                OTP += digits[Math.floor(Math.random() * 10)];
            }
            return OTP;
        }

        function sendOTP(email) {
            emailjs.send('service_v1gpe8o', 'template_67kzauk', {
                to_email: email,
            })
                .then(function (response) {
                    console.log('Email sent:', response);
                    alert('OTP has been sent to your email.');
                }, function (error) {
                    console.error('Email send error:', error);
                    alert('Failed to send OTP. Please try again later.');
                });
        }
        function validateOTP(userInput, actualOTP) {
            return userInput === actualOTP;
        }
        function handleSubmit(event) {
            event.preventDefault();
            const userEmail = document.getElementById('email').value;
            sendOTP(userEmail);
        }
    </script>
</body>

</html>